{% comment %}
  Trust Badges Section
  Displays trust badges/features in a horizontal scrollable layout
{% endcomment %}

<style>
  .trust-badges-section {
    width: 100%;
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
    background-color: {{ section.settings.background_color }};
  }

  .trust-badges-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
  }

  .trust-badges-wrapper {
    display: flex;
    gap: {{ section.settings.gap }}px;
    overflow-x: auto;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
    padding: 10px 0;
  }

  .trust-badges-wrapper::-webkit-scrollbar {
    display: none;
  }

  .trust-badge {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    min-width: 180px;
    flex-shrink: 0;
    padding: 15px;
    transition: transform 0.2s ease;
  }

  .trust-badge:hover {
    transform: translateY(-3px);
  }

  .trust-badge-icon {
    width: {{ section.settings.icon_size }}px;
    height: {{ section.settings.icon_size }}px;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .trust-badge-icon svg {
    width: 100%;
    height: 100%;
    stroke: {{ section.settings.icon_color }};
    fill: none;
    stroke-width: 1.5;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .trust-badge-title {
    font-size: {{ section.settings.title_size }}px;
    font-weight: {{ section.settings.title_weight }};
    color: {{ section.settings.text_color }};
    line-height: 1.4;
    margin: 0;
  }

  .scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid #e0e0e0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .scroll-arrow:hover {
    background: #ffffff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }

  .scroll-arrow.left {
    left: 10px;
  }

  .scroll-arrow.right {
    right: 10px;
  }

  .scroll-arrow svg {
    width: 20px;
    height: 20px;
    stroke: #333;
    fill: none;
    stroke-width: 2;
  }

  @media (min-width: 768px) {
    .trust-badges-wrapper {
      justify-content: center;
      flex-wrap: wrap;
      overflow-x: visible;
    }

    .trust-badge {
      min-width: auto;
      flex: 0 0 auto;
    }

    .scroll-arrow {
      display: none;
    }
  }

  @media (max-width: 767px) {
    .trust-badge {
      min-width: 160px;
    }

    .trust-badge-title {
      font-size: {{ section.settings.title_size | minus: 2 }}px;
    }
  }
</style>

<div class="trust-badges-section">
  <div class="trust-badges-container">
    {% if section.settings.show_arrows %}
      <button class="scroll-arrow left" onclick="scrollBadges('left')" aria-label="Scroll left">
        <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg>
      </button>
      <button class="scroll-arrow right" onclick="scrollBadges('right')" aria-label="Scroll right">
        <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg>
      </button>
    {% endif %}

    <div class="trust-badges-wrapper" id="trustBadgesWrapper">
      {% for block in section.blocks %}
        <div class="trust-badge" {{ block.shopify_attributes }}>
          <div class="trust-badge-icon">
            {% case block.settings.icon %}
              {% when 'shield' %}
                <svg viewBox="0 0 24 24">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                  <polyline points="9 12 11 14 15 10"/>
                </svg>
              {% when 'truck' %}
                <svg viewBox="0 0 24 24">
                  <rect x="1" y="3" width="15" height="13"/>
                  <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
                  <circle cx="5.5" cy="18.5" r="2.5"/>
                  <circle cx="18.5" cy="18.5" r="2.5"/>
                  <line x1="8" y1="10" x2="12" y2="10"/>
                  <line x1="8" y1="13" x2="11" y2="13"/>
                </svg>
              {% when 'award' %}
                <svg viewBox="0 0 24 24">
                  <circle cx="12" cy="8" r="6"/>
                  <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                </svg>
              {% when 'refresh' %}
                <svg viewBox="0 0 24 24" style="padding: 3px;">
                  <polyline points="23 4 23 10 17 10"/>
                  <polyline points="1 20 1 14 7 14"/>
                  <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                </svg>
              {% when 'credit-card' %}
                <svg viewBox="0 0 24 24">
                  <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                  <line x1="1" y1="10" x2="23" y2="10"/>
                  <rect x="4" y="14" width="8" height="3" rx="1"/>
                </svg>
              {% when 'lock' %}
                <svg viewBox="0 0 24 24">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
              {% when 'star' %}
                <svg viewBox="0 0 24 24">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                </svg>
              {% when 'heart' %}
                <svg viewBox="0 0 24 24">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
              {% when 'check-circle' %}
                <svg viewBox="0 0 24 24">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
              {% else %}
                <svg viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
            {% endcase %}
          </div>
          <h3 class="trust-badge-title">{{ block.settings.title }}</h3>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
  function scrollBadges(direction) {
    const wrapper = document.getElementById('trustBadgesWrapper');
    const scrollAmount = 200;
    
    if (direction === 'left') {
      wrapper.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
    } else {
      wrapper.scrollBy({ left: scrollAmount, behavior: 'smooth' });
    }
  }
</script>

{% schema %}
{
  "name": "Trust Badges",
  "tag": "section",
  "class": "section-trust-badges",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "gap",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Gap between badges",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding top",
      "default": 30
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Padding bottom",
      "default": 30
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show scroll arrows on mobile",
      "default": true
    },
    {
      "type": "header",
      "content": "Icons"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 30,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Icon size",
      "default": 50
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Text"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Title font size",
      "default": 16
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Title font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "500"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "Trust Badge",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "shield",
              "label": "Shield (Waterproof/Protection)"
            },
            {
              "value": "truck",
              "label": "Truck (Shipping)"
            },
            {
              "value": "award",
              "label": "Award (Guarantee)"
            },
            {
              "value": "refresh",
              "label": "Refresh (Returns)"
            },
            {
              "value": "credit-card",
              "label": "Credit Card (Payment)"
            },
            {
              "value": "lock",
              "label": "Lock (Security)"
            },
            {
              "value": "star",
              "label": "Star (Rating)"
            },
            {
              "value": "heart",
              "label": "Heart (Favorite)"
            },
            {
              "value": "check-circle",
              "label": "Check Circle (Verified)"
            }
          ],
          "default": "shield"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Trust Badge"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Trust Badges",
      "blocks": [
        {
          "type": "badge",
          "settings": {
            "icon": "shield",
            "title": "100% Waterproof & Sweatproof"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "truck",
            "title": "Free Shipping over $50 USD"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "award",
            "title": "Lifetime Color Guarantee"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "refresh",
            "title": "Hassle-free 30 Day Returns"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "credit-card",
            "title": "Buy Now, Pay Later"
          }
        }
      ]
    }
  ]
}
{% endschema %}